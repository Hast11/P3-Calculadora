<html>
    <head>
        <meta charset="utf-8">
    </head>
    <script type="text/javascript">
            const inputValue = () =>{
               return Number(document.getElementById("pantalla").value);
            }
            const setInputValue = (resultado) => {
                document.getElementById("pantalla").value=resultado;
            }
            const vaciarInput = () =>{
                document.getElementById("pantalla").value="";
            }            
            const onload = () =>{
                document.getElementById("cuadrado").addEventListener("click",sq);
                document.getElementById("factorial").addEventListener("click",fact);
                document.getElementById("raiz").addEventListener("click",sqr);
                document.getElementById("suma").addEventListener("click",add);
                document.getElementById("resta").addEventListener("click",sub);
                document.getElementById("multiplicacion").addEventListener("click",mul);
                document.getElementById("division").addEventListener("click",div);
                document.getElementById("igual").addEventListener("click",eq);
            }
            const sq =() => {
                let valorEntrada = inputValue();
                setInputValue(input*input);
            }
            const fact = () => {
                let valorEntrada = inputValue();
                let resultado;
                for(i = ValorEntrada; i > 1; i--){
                    resultado *=i;
                }
                setInputValue(resultado);
            }
            const sqr = () => {
                let valorEntrada = inputValue();
                setInputValue(Math.sqrt(valorEntrada));
            }

            let acumulador = 0;
            let operador = "";

            const acumula = n => {
                switch (operador) {
                    case "":
                        acumulador = n;
                        break;
                    case "+":
                        acumulador += n;
                        break;
                    case "-":
                        acumulador -= n;
                        break;
                    case "*":
                        acumulador *= n;
                        break
                    case "/":
                        acumulador /= n;
                        break
                }
            }

            const add = () => {
                acumula(inputValue());
                operador = "+";
                vaciarInput();
            }
            const sub = () => {
                acumula(inputValue());
                operador = "-";
                vaciarInput();
            }            
            const mul = () => {
                acumula(inputValue());
                operador = "*";
                vaciarInput();
            }
            const div = () => {
                acumula(inputValue());
                operador = "/";
                vaciarInput();
            }            
            const eq = () => {
                acumula(inputValue());
                operador = "=";
                vaciarInput();
                setInputValue(acumulador);
            }
            const rellenarInfo = () => {
                const resultadoInput = inputValue();
                let mensaje = "";

                if (Number.isNaN(resultadoInput)) {
                    mensaje = "ERROR";
                }

                else {
                    if (resultadoInput < 100) {
                        mensaje = "Info: El resultado es menor que 100";
                    }
                    else if (resultadoInput <= 200) {
                        mensaje = "Info: El resultado está entre 100 y 200";
                    }
                    else {
                        mensaje = "Info: El resultado es superior a 200";
                    }
                }
                document.getElementById("info").innerHTML = mensaje;
            }    
    </script>
    <body>
        <h2 id="Titulo" class="Cabecera"> 
            Calculadora de CORE
        </h2> 
        <div id="BloqueInput">
            <span> Numero: </span>
            <input type="text" id="Pantalla">
        </div>

        <div>
            <h2 id="info" class="grande" title="Info sobre el número"> Info sobre el número:
            </h2>
        </div>
        <div>
            <p> <b>Operaciones unitarias</b></p>
            <button id="cuadrado" class="boton">x<sup>2</sup></button>
            <button id="factorial" class="boton">x!</button>
            <button id="raiz" class="boton"><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/d62b24be305beff66cba9bfbcc01a362ba390f44"></button>
        </div>
        <div>
            <p><b> Operaciones binarias</b></p>
            <button id="suma" class="boton">+</button>
            <button id="resta" class="boton">-</button>
            <button id="multiplicacion" class="boton">X</button>
            <button id="division" class="boton">/</button>
            <button id="igual" class="boton">=</button>
        </div>



    </body>
</html>
